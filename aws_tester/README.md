# lambdaforge-development

Generated by **LambdaForge** - AWS Infrastructure Automation Platform

## Overview

This project contains the infrastructure and deployment configuration for **lambdaforge-development**.

- **Environment:** Development
- **AWS Region:** Auto-detected from AWS CLI configuration
- **Generated:** 2025-06-17T22:44:19.822Z

## Architecture

### Selected AWS Services

#### Infrastructure Services
- S3 Bucket
- Cloudfront Distribution
- Route53 Dns

#### Compute Services
- Lambda Functions

#### Integration Services
- Api Gateway
- Cloudfront Cdn

#### Security Services
- Iam Roles
- Ssl Certificates
- Waf Protection

#### Monitoring Services
- Cloudwatch
- Alarms
- X Ray Tracing

## üö® CRITICAL REQUIREMENTS

### ‚ö†Ô∏è IAM Permissions Required

**URGENT**: You must have the following IAM permissions or deployment will fail:

- `iam:CreateRole` - Required for Lambda execution roles
- `iam:AttachRolePolicy` - Required for role policy attachment
- `iam:PassRole` - Required for Lambda function creation
- `cloudformation:*` - Required for stack operations
- `lambda:*` - Required for Lambda function management
- `s3:*` - Required for S3 bucket operations
- `apigateway:*` - Required for API Gateway (if selected)
- `logs:*` - Required for CloudWatch logs

**Common Error Without Proper Permissions:**
```
User: arn:aws:iam::ACCOUNT:user/USERNAME is not authorized to perform: iam:CreateRole
```

### üåç AWS Region Configuration

**CRITICAL**: Your AWS CLI region must match your intended deployment region.

**Check your current region:**
```bash
aws configure get region
```

**Common Error with Region Mismatch:**
```
Could not connect to the endpoint URL: "https://cloudformation.us-east-1.amazonaws.com/"
```

**Set your region if needed:**
```bash
aws configure set region YOUR_PREFERRED_REGION
```

## Quick Start

### Prerequisites

- ‚úÖ AWS CLI installed and configured
- ‚úÖ **CRITICAL**: Appropriate IAM permissions (see above)
- ‚úÖ **CRITICAL**: Correct AWS region configured
- ‚úÖ Bash shell (for deployment script)

### Deployment

```bash
# 1. Extract the zip file
unzip lambdaforge-development-infrastructure.zip
cd lambdaforge-development-infrastructure/

# 2. Make scripts executable
chmod +x deploy.sh
chmod +x delete.sh

# 3. Verify your AWS configuration
aws sts get-caller-identity
aws configure get region

# 4. (Optional) Configure web application deployment
# Edit deploy.sh and set either:
# WEB_APP_LOCAL_PATH="/path/to/your/web/app"          # For local folder
# WEB_APP_GITHUB_REPO="https://github.com/user/repo" # For GitHub repo

# 5. Run deployment
./deploy.sh
```

### Web Application Deployment Options

#### Option 1: Deploy from Local Folder
```bash
# Edit deploy.sh and set:
WEB_APP_LOCAL_PATH="/path/to/your/react/app"
```

#### Option 2: Deploy from GitHub Repository
```bash
# Edit deploy.sh and set:
WEB_APP_GITHUB_REPO="https://github.com/yourusername/your-repo"
```

#### Option 3: Infrastructure Only (Default)
If neither path is set, only AWS infrastructure will be created without deploying a web application.

### Example: Deploy LambdaForge Application

To deploy the LambdaForge application itself:

```bash
# From GitHub (public repository):
WEB_APP_GITHUB_REPO="https://github.com/your-username/lambdaforge"

# Or from local development:
WEB_APP_LOCAL_PATH="/Users/yourusername/Documents/lambdaforge"
```

After deployment, your LambdaForge app will be available at the S3 website URL provided in the outputs.

### Cleanup (Delete All Resources)

```bash
# ‚ö†Ô∏è WARNING: This will DELETE all created resources!
./delete.sh
```

## Cost Estimation

Based on your selected services, the estimated monthly cost is **$135**.

## AWS Console Links

After deployment, the script will provide direct links to all created resources.

General AWS Console links:
- [CloudFormation Stacks](https://console.aws.amazon.com/cloudformation/)
- [Lambda Functions](https://console.aws.amazon.com/lambda/)
- [S3 Buckets](https://console.aws.amazon.com/s3/)
- [Cost Explorer](https://console.aws.amazon.com/cost-management/home#/cost-explorer)

## üîß Troubleshooting

### Common Deployment Errors

#### Error: "User is not authorized to perform: iam:CreateRole"
**Cause**: Missing IAM permissions
**Solution**: Contact your AWS administrator to grant the required permissions listed above

#### Error: "Could not connect to the endpoint URL"
**Cause**: Region mismatch between AWS CLI and CloudFormation endpoint
**Solution**: 
```bash
aws configure set region YOUR_CORRECT_REGION
```

#### Error: "Stack already exists"
**Cause**: Previous deployment with same project name
**Solution**: Either use a different project name or delete the existing stack:
```bash
./delete.sh
```

#### Error: "Template format error"
**Cause**: Using old JSON template format
**Solution**: Use the new template.yaml generated by this version (proper YAML format)

### Getting Help

If you encounter issues:
1. Check the CloudFormation console for detailed error messages
2. Verify your AWS CLI configuration: `aws configure list`
3. Ensure you have the required IAM permissions
4. Check that you're in the correct AWS region

## Files Included

- `template.yaml` - Fixed CloudFormation template (proper YAML format)
- `deploy.sh` - Enhanced deployment script with region auto-detection
- `delete.sh` - Resource cleanup script (‚ö†Ô∏è DELETES all resources!)
- `README.md` - This comprehensive documentation file

### File Descriptions

#### `template.yaml`
- Proper YAML CloudFormation format (not JSON)
- Auto-detects AWS region and account ID
- Includes console links for all resources
- Fixed IAM role naming to avoid conflicts

#### `deploy.sh`
- Auto-detects your AWS CLI region configuration
- Validates prerequisites before deployment
- Provides direct links to all created resources
- Enhanced error handling and colored output

#### `delete.sh` ‚ö†Ô∏è
- **DANGER**: Permanently deletes ALL created resources
- Shows resources before deletion for confirmation
- Requires typing 'DELETE' to confirm
- Use when you want to clean up and stop AWS charges

---

**Generated by LambdaForge** - Making AWS deployment simple and automated.

{"ast":null,"code":"import _objectWithoutProperties from \"/Users/codinggents/Documents/lambdaforge/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"$metadata\"];\nexport const loggerMiddleware = () => (next, context) => async args => {\n  try {\n    var _logger$info;\n    const response = await next(args);\n    const {\n      clientName,\n      commandName,\n      logger,\n      dynamoDbDocumentClientOptions = {}\n    } = context;\n    const {\n      overrideInputFilterSensitiveLog,\n      overrideOutputFilterSensitiveLog\n    } = dynamoDbDocumentClientOptions;\n    const inputFilterSensitiveLog = overrideInputFilterSensitiveLog !== null && overrideInputFilterSensitiveLog !== void 0 ? overrideInputFilterSensitiveLog : context.inputFilterSensitiveLog;\n    const outputFilterSensitiveLog = overrideOutputFilterSensitiveLog !== null && overrideOutputFilterSensitiveLog !== void 0 ? overrideOutputFilterSensitiveLog : context.outputFilterSensitiveLog;\n    const _response$output = response.output,\n      {\n        $metadata\n      } = _response$output,\n      outputWithoutMetadata = _objectWithoutProperties(_response$output, _excluded);\n    logger === null || logger === void 0 || (_logger$info = logger.info) === null || _logger$info === void 0 || _logger$info.call(logger, {\n      clientName,\n      commandName,\n      input: inputFilterSensitiveLog(args.input),\n      output: outputFilterSensitiveLog(outputWithoutMetadata),\n      metadata: $metadata\n    });\n    return response;\n  } catch (error) {\n    var _logger$error;\n    const {\n      clientName,\n      commandName,\n      logger,\n      dynamoDbDocumentClientOptions = {}\n    } = context;\n    const {\n      overrideInputFilterSensitiveLog\n    } = dynamoDbDocumentClientOptions;\n    const inputFilterSensitiveLog = overrideInputFilterSensitiveLog !== null && overrideInputFilterSensitiveLog !== void 0 ? overrideInputFilterSensitiveLog : context.inputFilterSensitiveLog;\n    logger === null || logger === void 0 || (_logger$error = logger.error) === null || _logger$error === void 0 || _logger$error.call(logger, {\n      clientName,\n      commandName,\n      input: inputFilterSensitiveLog(args.input),\n      error,\n      metadata: error.$metadata\n    });\n    throw error;\n  }\n};\nexport const loggerMiddlewareOptions = {\n  name: \"loggerMiddleware\",\n  tags: [\"LOGGER\"],\n  step: \"initialize\",\n  override: true\n};\nexport const getLoggerPlugin = options => ({\n  applyToStack: clientStack => {\n    clientStack.add(loggerMiddleware(), loggerMiddlewareOptions);\n  }\n});","map":{"version":3,"names":["loggerMiddleware","next","context","args","_logger$info","response","clientName","commandName","logger","dynamoDbDocumentClientOptions","overrideInputFilterSensitiveLog","overrideOutputFilterSensitiveLog","inputFilterSensitiveLog","outputFilterSensitiveLog","_response$output","output","$metadata","outputWithoutMetadata","_objectWithoutProperties","_excluded","info","call","input","metadata","error","_logger$error","loggerMiddlewareOptions","name","tags","step","override","getLoggerPlugin","options","applyToStack","clientStack","add"],"sources":["/Users/codinggents/Documents/lambdaforge/node_modules/@aws-sdk/middleware-logger/dist-es/loggerMiddleware.js"],"sourcesContent":["export const loggerMiddleware = () => (next, context) => async (args) => {\n    try {\n        const response = await next(args);\n        const { clientName, commandName, logger, dynamoDbDocumentClientOptions = {} } = context;\n        const { overrideInputFilterSensitiveLog, overrideOutputFilterSensitiveLog } = dynamoDbDocumentClientOptions;\n        const inputFilterSensitiveLog = overrideInputFilterSensitiveLog ?? context.inputFilterSensitiveLog;\n        const outputFilterSensitiveLog = overrideOutputFilterSensitiveLog ?? context.outputFilterSensitiveLog;\n        const { $metadata, ...outputWithoutMetadata } = response.output;\n        logger?.info?.({\n            clientName,\n            commandName,\n            input: inputFilterSensitiveLog(args.input),\n            output: outputFilterSensitiveLog(outputWithoutMetadata),\n            metadata: $metadata,\n        });\n        return response;\n    }\n    catch (error) {\n        const { clientName, commandName, logger, dynamoDbDocumentClientOptions = {} } = context;\n        const { overrideInputFilterSensitiveLog } = dynamoDbDocumentClientOptions;\n        const inputFilterSensitiveLog = overrideInputFilterSensitiveLog ?? context.inputFilterSensitiveLog;\n        logger?.error?.({\n            clientName,\n            commandName,\n            input: inputFilterSensitiveLog(args.input),\n            error,\n            metadata: error.$metadata,\n        });\n        throw error;\n    }\n};\nexport const loggerMiddlewareOptions = {\n    name: \"loggerMiddleware\",\n    tags: [\"LOGGER\"],\n    step: \"initialize\",\n    override: true,\n};\nexport const getLoggerPlugin = (options) => ({\n    applyToStack: (clientStack) => {\n        clientStack.add(loggerMiddleware(), loggerMiddlewareOptions);\n    },\n});\n"],"mappings":";;AAAA,OAAO,MAAMA,gBAAgB,GAAGA,CAAA,KAAM,CAACC,IAAI,EAAEC,OAAO,KAAK,MAAOC,IAAI,IAAK;EACrE,IAAI;IAAA,IAAAC,YAAA;IACA,MAAMC,QAAQ,GAAG,MAAMJ,IAAI,CAACE,IAAI,CAAC;IACjC,MAAM;MAAEG,UAAU;MAAEC,WAAW;MAAEC,MAAM;MAAEC,6BAA6B,GAAG,CAAC;IAAE,CAAC,GAAGP,OAAO;IACvF,MAAM;MAAEQ,+BAA+B;MAAEC;IAAiC,CAAC,GAAGF,6BAA6B;IAC3G,MAAMG,uBAAuB,GAAGF,+BAA+B,aAA/BA,+BAA+B,cAA/BA,+BAA+B,GAAIR,OAAO,CAACU,uBAAuB;IAClG,MAAMC,wBAAwB,GAAGF,gCAAgC,aAAhCA,gCAAgC,cAAhCA,gCAAgC,GAAIT,OAAO,CAACW,wBAAwB;IACrG,MAAAC,gBAAA,GAAgDT,QAAQ,CAACU,MAAM;MAAzD;QAAEC;MAAoC,CAAC,GAAAF,gBAAA;MAAvBG,qBAAqB,GAAAC,wBAAA,CAAAJ,gBAAA,EAAAK,SAAA;IAC3CX,MAAM,aAANA,MAAM,gBAAAJ,YAAA,GAANI,MAAM,CAAEY,IAAI,cAAAhB,YAAA,eAAZA,YAAA,CAAAiB,IAAA,CAAAb,MAAM,EAAS;MACXF,UAAU;MACVC,WAAW;MACXe,KAAK,EAAEV,uBAAuB,CAACT,IAAI,CAACmB,KAAK,CAAC;MAC1CP,MAAM,EAAEF,wBAAwB,CAACI,qBAAqB,CAAC;MACvDM,QAAQ,EAAEP;IACd,CAAC,CAAC;IACF,OAAOX,QAAQ;EACnB,CAAC,CACD,OAAOmB,KAAK,EAAE;IAAA,IAAAC,aAAA;IACV,MAAM;MAAEnB,UAAU;MAAEC,WAAW;MAAEC,MAAM;MAAEC,6BAA6B,GAAG,CAAC;IAAE,CAAC,GAAGP,OAAO;IACvF,MAAM;MAAEQ;IAAgC,CAAC,GAAGD,6BAA6B;IACzE,MAAMG,uBAAuB,GAAGF,+BAA+B,aAA/BA,+BAA+B,cAA/BA,+BAA+B,GAAIR,OAAO,CAACU,uBAAuB;IAClGJ,MAAM,aAANA,MAAM,gBAAAiB,aAAA,GAANjB,MAAM,CAAEgB,KAAK,cAAAC,aAAA,eAAbA,aAAA,CAAAJ,IAAA,CAAAb,MAAM,EAAU;MACZF,UAAU;MACVC,WAAW;MACXe,KAAK,EAAEV,uBAAuB,CAACT,IAAI,CAACmB,KAAK,CAAC;MAC1CE,KAAK;MACLD,QAAQ,EAAEC,KAAK,CAACR;IACpB,CAAC,CAAC;IACF,MAAMQ,KAAK;EACf;AACJ,CAAC;AACD,OAAO,MAAME,uBAAuB,GAAG;EACnCC,IAAI,EAAE,kBAAkB;EACxBC,IAAI,EAAE,CAAC,QAAQ,CAAC;EAChBC,IAAI,EAAE,YAAY;EAClBC,QAAQ,EAAE;AACd,CAAC;AACD,OAAO,MAAMC,eAAe,GAAIC,OAAO,KAAM;EACzCC,YAAY,EAAGC,WAAW,IAAK;IAC3BA,WAAW,CAACC,GAAG,CAACnC,gBAAgB,CAAC,CAAC,EAAE0B,uBAAuB,CAAC;EAChE;AACJ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
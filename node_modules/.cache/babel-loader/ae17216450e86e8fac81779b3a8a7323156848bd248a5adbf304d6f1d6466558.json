{"ast":null,"code":"import { CLOCK_SKEW_ERROR_CODES, NODEJS_TIMEOUT_ERROR_CODES, THROTTLING_ERROR_CODES, TRANSIENT_ERROR_CODES, TRANSIENT_ERROR_STATUS_CODES } from \"./constants\";\nexport const isRetryableByTrait = error => error.$retryable !== undefined;\nexport const isClockSkewError = error => CLOCK_SKEW_ERROR_CODES.includes(error.name);\nexport const isClockSkewCorrectedError = error => {\n  var _error$$metadata;\n  return (_error$$metadata = error.$metadata) === null || _error$$metadata === void 0 ? void 0 : _error$$metadata.clockSkewCorrected;\n};\nexport const isBrowserNetworkError = error => {\n  const errorMessages = new Set([\"Failed to fetch\", \"NetworkError when attempting to fetch resource\", \"The Internet connection appears to be offline\", \"Load failed\", \"Network request failed\"]);\n  const isValid = error && error instanceof TypeError;\n  if (!isValid) {\n    return false;\n  }\n  return errorMessages.has(error.message);\n};\nexport const isThrottlingError = error => {\n  var _error$$metadata2, _error$$retryable;\n  return ((_error$$metadata2 = error.$metadata) === null || _error$$metadata2 === void 0 ? void 0 : _error$$metadata2.httpStatusCode) === 429 || THROTTLING_ERROR_CODES.includes(error.name) || ((_error$$retryable = error.$retryable) === null || _error$$retryable === void 0 ? void 0 : _error$$retryable.throttling) == true;\n};\nexport const isTransientError = function (error) {\n  var _error$$metadata3;\n  let depth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  return isClockSkewCorrectedError(error) || TRANSIENT_ERROR_CODES.includes(error.name) || NODEJS_TIMEOUT_ERROR_CODES.includes((error === null || error === void 0 ? void 0 : error.code) || \"\") || TRANSIENT_ERROR_STATUS_CODES.includes(((_error$$metadata3 = error.$metadata) === null || _error$$metadata3 === void 0 ? void 0 : _error$$metadata3.httpStatusCode) || 0) || isBrowserNetworkError(error) || error.cause !== undefined && depth <= 10 && isTransientError(error.cause, depth + 1);\n};\nexport const isServerError = error => {\n  var _error$$metadata4;\n  if (((_error$$metadata4 = error.$metadata) === null || _error$$metadata4 === void 0 ? void 0 : _error$$metadata4.httpStatusCode) !== undefined) {\n    const statusCode = error.$metadata.httpStatusCode;\n    if (500 <= statusCode && statusCode <= 599 && !isTransientError(error)) {\n      return true;\n    }\n    return false;\n  }\n  return false;\n};","map":{"version":3,"names":["CLOCK_SKEW_ERROR_CODES","NODEJS_TIMEOUT_ERROR_CODES","THROTTLING_ERROR_CODES","TRANSIENT_ERROR_CODES","TRANSIENT_ERROR_STATUS_CODES","isRetryableByTrait","error","$retryable","undefined","isClockSkewError","includes","name","isClockSkewCorrectedError","_error$$metadata","$metadata","clockSkewCorrected","isBrowserNetworkError","errorMessages","Set","isValid","TypeError","has","message","isThrottlingError","_error$$metadata2","_error$$retryable","httpStatusCode","throttling","isTransientError","_error$$metadata3","depth","arguments","length","code","cause","isServerError","_error$$metadata4","statusCode"],"sources":["/Users/codinggents/Documents/lambdaforge/node_modules/@smithy/service-error-classification/dist-es/index.js"],"sourcesContent":["import { CLOCK_SKEW_ERROR_CODES, NODEJS_TIMEOUT_ERROR_CODES, THROTTLING_ERROR_CODES, TRANSIENT_ERROR_CODES, TRANSIENT_ERROR_STATUS_CODES, } from \"./constants\";\nexport const isRetryableByTrait = (error) => error.$retryable !== undefined;\nexport const isClockSkewError = (error) => CLOCK_SKEW_ERROR_CODES.includes(error.name);\nexport const isClockSkewCorrectedError = (error) => error.$metadata?.clockSkewCorrected;\nexport const isBrowserNetworkError = (error) => {\n    const errorMessages = new Set([\n        \"Failed to fetch\",\n        \"NetworkError when attempting to fetch resource\",\n        \"The Internet connection appears to be offline\",\n        \"Load failed\",\n        \"Network request failed\",\n    ]);\n    const isValid = error && error instanceof TypeError;\n    if (!isValid) {\n        return false;\n    }\n    return errorMessages.has(error.message);\n};\nexport const isThrottlingError = (error) => error.$metadata?.httpStatusCode === 429 ||\n    THROTTLING_ERROR_CODES.includes(error.name) ||\n    error.$retryable?.throttling == true;\nexport const isTransientError = (error, depth = 0) => isClockSkewCorrectedError(error) ||\n    TRANSIENT_ERROR_CODES.includes(error.name) ||\n    NODEJS_TIMEOUT_ERROR_CODES.includes(error?.code || \"\") ||\n    TRANSIENT_ERROR_STATUS_CODES.includes(error.$metadata?.httpStatusCode || 0) ||\n    isBrowserNetworkError(error) ||\n    (error.cause !== undefined && depth <= 10 && isTransientError(error.cause, depth + 1));\nexport const isServerError = (error) => {\n    if (error.$metadata?.httpStatusCode !== undefined) {\n        const statusCode = error.$metadata.httpStatusCode;\n        if (500 <= statusCode && statusCode <= 599 && !isTransientError(error)) {\n            return true;\n        }\n        return false;\n    }\n    return false;\n};\n"],"mappings":"AAAA,SAASA,sBAAsB,EAAEC,0BAA0B,EAAEC,sBAAsB,EAAEC,qBAAqB,EAAEC,4BAA4B,QAAS,aAAa;AAC9J,OAAO,MAAMC,kBAAkB,GAAIC,KAAK,IAAKA,KAAK,CAACC,UAAU,KAAKC,SAAS;AAC3E,OAAO,MAAMC,gBAAgB,GAAIH,KAAK,IAAKN,sBAAsB,CAACU,QAAQ,CAACJ,KAAK,CAACK,IAAI,CAAC;AACtF,OAAO,MAAMC,yBAAyB,GAAIN,KAAK;EAAA,IAAAO,gBAAA;EAAA,QAAAA,gBAAA,GAAKP,KAAK,CAACQ,SAAS,cAAAD,gBAAA,uBAAfA,gBAAA,CAAiBE,kBAAkB;AAAA;AACvF,OAAO,MAAMC,qBAAqB,GAAIV,KAAK,IAAK;EAC5C,MAAMW,aAAa,GAAG,IAAIC,GAAG,CAAC,CAC1B,iBAAiB,EACjB,gDAAgD,EAChD,+CAA+C,EAC/C,aAAa,EACb,wBAAwB,CAC3B,CAAC;EACF,MAAMC,OAAO,GAAGb,KAAK,IAAIA,KAAK,YAAYc,SAAS;EACnD,IAAI,CAACD,OAAO,EAAE;IACV,OAAO,KAAK;EAChB;EACA,OAAOF,aAAa,CAACI,GAAG,CAACf,KAAK,CAACgB,OAAO,CAAC;AAC3C,CAAC;AACD,OAAO,MAAMC,iBAAiB,GAAIjB,KAAK;EAAA,IAAAkB,iBAAA,EAAAC,iBAAA;EAAA,OAAK,EAAAD,iBAAA,GAAAlB,KAAK,CAACQ,SAAS,cAAAU,iBAAA,uBAAfA,iBAAA,CAAiBE,cAAc,MAAK,GAAG,IAC/ExB,sBAAsB,CAACQ,QAAQ,CAACJ,KAAK,CAACK,IAAI,CAAC,IAC3C,EAAAc,iBAAA,GAAAnB,KAAK,CAACC,UAAU,cAAAkB,iBAAA,uBAAhBA,iBAAA,CAAkBE,UAAU,KAAI,IAAI;AAAA;AACxC,OAAO,MAAMC,gBAAgB,GAAG,SAAAA,CAACtB,KAAK;EAAA,IAAAuB,iBAAA;EAAA,IAAEC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAvB,SAAA,GAAAuB,SAAA,MAAG,CAAC;EAAA,OAAKnB,yBAAyB,CAACN,KAAK,CAAC,IAClFH,qBAAqB,CAACO,QAAQ,CAACJ,KAAK,CAACK,IAAI,CAAC,IAC1CV,0BAA0B,CAACS,QAAQ,CAAC,CAAAJ,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE2B,IAAI,KAAI,EAAE,CAAC,IACtD7B,4BAA4B,CAACM,QAAQ,CAAC,EAAAmB,iBAAA,GAAAvB,KAAK,CAACQ,SAAS,cAAAe,iBAAA,uBAAfA,iBAAA,CAAiBH,cAAc,KAAI,CAAC,CAAC,IAC3EV,qBAAqB,CAACV,KAAK,CAAC,IAC3BA,KAAK,CAAC4B,KAAK,KAAK1B,SAAS,IAAIsB,KAAK,IAAI,EAAE,IAAIF,gBAAgB,CAACtB,KAAK,CAAC4B,KAAK,EAAEJ,KAAK,GAAG,CAAC,CAAE;AAAA;AAC1F,OAAO,MAAMK,aAAa,GAAI7B,KAAK,IAAK;EAAA,IAAA8B,iBAAA;EACpC,IAAI,EAAAA,iBAAA,GAAA9B,KAAK,CAACQ,SAAS,cAAAsB,iBAAA,uBAAfA,iBAAA,CAAiBV,cAAc,MAAKlB,SAAS,EAAE;IAC/C,MAAM6B,UAAU,GAAG/B,KAAK,CAACQ,SAAS,CAACY,cAAc;IACjD,IAAI,GAAG,IAAIW,UAAU,IAAIA,UAAU,IAAI,GAAG,IAAI,CAACT,gBAAgB,CAACtB,KAAK,CAAC,EAAE;MACpE,OAAO,IAAI;IACf;IACA,OAAO,KAAK;EAChB;EACA,OAAO,KAAK;AAChB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
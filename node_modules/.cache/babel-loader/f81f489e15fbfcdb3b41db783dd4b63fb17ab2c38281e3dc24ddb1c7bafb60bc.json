{"ast":null,"code":"import _objectSpread from \"/Users/codinggents/Documents/lambdaforge/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { HttpRequest } from \"@smithy/protocol-http\";\nexport const moveHeadersToQuery = function (request) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n    headers,\n    query = {}\n  } = HttpRequest.clone(request);\n  for (const name of Object.keys(headers)) {\n    var _options$unhoistableH, _options$hoistableHea;\n    const lname = name.toLowerCase();\n    if (lname.slice(0, 6) === \"x-amz-\" && !((_options$unhoistableH = options.unhoistableHeaders) !== null && _options$unhoistableH !== void 0 && _options$unhoistableH.has(lname)) || (_options$hoistableHea = options.hoistableHeaders) !== null && _options$hoistableHea !== void 0 && _options$hoistableHea.has(lname)) {\n      query[name] = headers[name];\n      delete headers[name];\n    }\n  }\n  return _objectSpread(_objectSpread({}, request), {}, {\n    headers,\n    query\n  });\n};","map":{"version":3,"names":["HttpRequest","moveHeadersToQuery","request","options","arguments","length","undefined","headers","query","clone","name","Object","keys","_options$unhoistableH","_options$hoistableHea","lname","toLowerCase","slice","unhoistableHeaders","has","hoistableHeaders","_objectSpread"],"sources":["/Users/codinggents/Documents/lambdaforge/node_modules/@smithy/signature-v4/dist-es/moveHeadersToQuery.js"],"sourcesContent":["import { HttpRequest } from \"@smithy/protocol-http\";\nexport const moveHeadersToQuery = (request, options = {}) => {\n    const { headers, query = {} } = HttpRequest.clone(request);\n    for (const name of Object.keys(headers)) {\n        const lname = name.toLowerCase();\n        if ((lname.slice(0, 6) === \"x-amz-\" && !options.unhoistableHeaders?.has(lname)) ||\n            options.hoistableHeaders?.has(lname)) {\n            query[name] = headers[name];\n            delete headers[name];\n        }\n    }\n    return {\n        ...request,\n        headers,\n        query,\n    };\n};\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,uBAAuB;AACnD,OAAO,MAAMC,kBAAkB,GAAG,SAAAA,CAACC,OAAO,EAAmB;EAAA,IAAjBC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EACpD,MAAM;IAAEG,OAAO;IAAEC,KAAK,GAAG,CAAC;EAAE,CAAC,GAAGR,WAAW,CAACS,KAAK,CAACP,OAAO,CAAC;EAC1D,KAAK,MAAMQ,IAAI,IAAIC,MAAM,CAACC,IAAI,CAACL,OAAO,CAAC,EAAE;IAAA,IAAAM,qBAAA,EAAAC,qBAAA;IACrC,MAAMC,KAAK,GAAGL,IAAI,CAACM,WAAW,CAAC,CAAC;IAChC,IAAKD,KAAK,CAACE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,QAAQ,IAAI,GAAAJ,qBAAA,GAACV,OAAO,CAACe,kBAAkB,cAAAL,qBAAA,eAA1BA,qBAAA,CAA4BM,GAAG,CAACJ,KAAK,CAAC,MAAAD,qBAAA,GAC1EX,OAAO,CAACiB,gBAAgB,cAAAN,qBAAA,eAAxBA,qBAAA,CAA0BK,GAAG,CAACJ,KAAK,CAAC,EAAE;MACtCP,KAAK,CAACE,IAAI,CAAC,GAAGH,OAAO,CAACG,IAAI,CAAC;MAC3B,OAAOH,OAAO,CAACG,IAAI,CAAC;IACxB;EACJ;EACA,OAAAW,aAAA,CAAAA,aAAA,KACOnB,OAAO;IACVK,OAAO;IACPC;EAAK;AAEb,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}